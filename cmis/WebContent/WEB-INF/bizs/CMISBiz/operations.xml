<?xml version="1.0" encoding="UTF-8" ?>


<operations.xml>
	<flow id="queryListCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="BeforeAction">
			<transition dest="QueryListTableAction0" />
		</action>
		<action id="QueryListTableAction0" implClass="com.ecc.emp.ad.action.QueryListAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction2" condition="exception:RecordNotFoundException" />
			<transition dest="ExtendedAction3" condition="exception:EMPRestrictException" />
			<transition dest="ExtendedAction1" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction2" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="ExtendedNoRecord">
			<transition dest="EndAction0" />
		</action>
		<action id="ExtendedAction3" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="ExtendedAction3">
			<transition dest="EndAction0" />
		</action>
	</flow>
	<flow id="queryClassifyCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="QueryClassifyTableAction0" />
		</action>
		<action id="QueryClassifyTableAction0" implClass="com.ecc.emp.ad.action.QueryClassifyAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction2" condition="exception:RecordNotFoundException" />
			<transition dest="ExtendedAction1" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction2" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="ExtendedNoRecord">
			<transition dest="EndAction0" />
		</action>
	</flow>
	<flow id="addRecordCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="AddTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="AddTableAction0" implClass="com.ecc.emp.ad.action.AddRecordAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction1" />
		</action>
	</flow>
	<flow id="queryDetailCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="QueryDetailTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="QueryDetailTableAction0" implClass="com.ecc.emp.ad.action.QueryDetailAction"
			tableService="tableService" dataSource="dataSource" isJoinedGroup="false">
			<transition dest="ExtendedAction2" condition="exception:RecordNotFoundException" />
			<transition dest="ExtendedAction1" />
		</action>
		<action id="ExtendedAction2" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="ExtendedNoRecord">
			<transition dest="EndAction0" />
		</action>
	</flow>
	<flow id="queryJoinedDetailCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="QueryDetailTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="QueryDetailTableAction0" implClass="com.ecc.emp.ad.action.QueryDetailAction"
			tableService="tableService" dataSource="dataSource" isJoinedGroup="true">
			<transition dest="ExtendedAction2" condition="exception:RecordNotFoundException" />
			<transition dest="ExtendedAction1" />
		</action>
		<action id="ExtendedAction2" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="ExtendedNoRecord">
			<transition dest="EndAction0" />
		</action>
	</flow>
	<flow id="updateRecordCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="UpdateTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="UpdateTableAction0" implClass="com.ecc.emp.ad.action.UpdateRecordAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction1" />
		</action>
	</flow>
	<flow id="deleteRecordCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="DeleteTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="DeleteTableAction0" implClass="com.ecc.emp.ad.action.DeleteRecordAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction1" />
		</action>
	</flow>
	<flow id="deleteJoinedRecordCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="DeleteTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="DeleteTableAction0" implClass="com.ecc.emp.ad.action.DeleteRecordAction"
			tableService="tableService" dataSource="dataSource" isJoinedGroup="true">
			<transition dest="ExtendedAction1" />
		</action>
	</flow>
	<flow id="saveRecordCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" result="0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="BeforeExtended">
			<transition dest="AddTableAction0"
				condition="($isProcessed = '0') and ($isDraft = '1')" />
			<transition dest="UpdateTableAction0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			defaultRetValue="0" extendId="AfterExtended">
			<transition dest="EndAction0" />
		</action>
		<action id="AddTableAction0" implClass="com.ecc.emp.ad.action.AddRecordAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction1" />
		</action>
		<action id="UpdateTableAction0" implClass="com.ecc.emp.ad.action.UpdateRecordAction"
			tableService="tableService" dataSource="dataSource">
			<transition dest="ExtendedAction1" />
		</action>
	</flow>
	<flow id="queryDetail4WFCommonFlow">
		<action id="StartAction0" implClass="com.ecc.emp.flow.EMPStartAction">
			<transition dest="ExtendedAction0" />
		</action>
		<action id="EndAction0" implClass="com.ecc.emp.flow.EMPEndAction" />
		<action id="ExtendedAction0" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="BeforeAction">
			<transition dest="QueryDetailTableAction4WF0" />
		</action>
		<action id="ExtendedAction1" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="AfterAction">
			<transition dest="EndAction0" />
		</action>
		<action id="QueryDetailTableAction4WF0" implClass="com.ecc.emp.ad.action.QueryDetailAction4WF"
			tableService="tableService" dataSource="dataSource" isJoinedGroup="false">
			<transition dest="ExtendedAction2" condition="exception:RecordNotFoundException" />
			<transition dest="ExtendedAction1" />
		</action>
		<action id="ExtendedAction2" implClass="com.ecc.emp.flow.ExtendedAction"
			extendId="ExtendedNoRecord">
			<transition dest="EndAction0" />
		</action>
	</flow>
</operations.xml>