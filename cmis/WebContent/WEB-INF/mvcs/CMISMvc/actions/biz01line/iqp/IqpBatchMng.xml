<?xml version="1.0" encoding="UTF-8"?>
<actionDefines>
	<classMap>
		<map id="action" class="com.yucheng.cmis.ad.mvc.ADRequestController"/>
		<map id="flowInvoker" class="com.yucheng.cmis.ad.mvc.ADFlowInvoker"/>
		<map id="outputViews" class="java.util.HashMap"/>
		<map id="output" class="com.ecc.emp.data.KeyedCollection"/>
		<map id="kColl" class="com.ecc.emp.data.KeyedCollection"/>
		<map id="iColl" class="com.ecc.emp.data.IndexedCollection"/>
		<map id="field" class="com.ecc.emp.data.DataField"/>
	</classMap>
	
	<!-- 获取操作主页面 -->
	<action id="queryIqpBatchMngList" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpBatchMngListOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/queryIqpBatchMngList.jsp" />
		</outputViews>
	</action>
	
	<!-- 获取票据批次关联业务列表页面 -->
	<action id="queryIqpInfoList" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpInfoListOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/queryIqpInfoList.jsp" />
		</outputViews>
	</action>
	
	<!-- 获得编辑页面 -->
	<action id="getIqpActTabHelp" type="normal" checkSession="true" >
		<flowInvoker>
			<operation updateCheck="false" class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.GetIqpActTabHelp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/iqpActTabHelp.jsp" />
		</outputViews>
	</action>
	<!-- 票据批次修改前校验 -->
	<action id="checkIqpBatchMng" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.CheckIqpBatchMngOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
					<field id="msg" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	<!-- 获得编辑页面 -->
	<action id="getIqpBatchMngUpdatePage" type="normal" checkSession="true" >
		<flowInvoker>
			<operation updateCheck="false" class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpBatchMngDetailOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/updateIqpBatchMngRecord.jsp" />
		</outputViews>
	</action>
	
	<!-- 更新记录 -->
	<action id="updateIqpBatchMngRecord" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.UpdateIqpBatchMngRecordOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
					<field id="msg" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	
	<!-- 获得查看页面 -->
	<action id="getIqpBatchMngViewPage" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpBatchMngDetailOp"/>
			<transition dest="updatePage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="updatePage" url="biz01line/iqp/IqpBatchMng/queryIqpBatchMngDetail.jsp" />
		</outputViews>
	</action>
	
	<!-- 获得新增页面 -->
	<action id="getIqpBatchMngAddPage" type="normal" checkSession="true" >
		<jspView id="addPage" url="biz01line/iqp/IqpBatchMng/addIqpBatchMngRecord.jsp"/>
	</action>
	
	<!-- 新增记录 -->
	<action id="addIqpBatchMngRecord" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.AddIqpBatchMngRecordOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
					<field id="batchno" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>	
	
	<!-- 删除记录 -->
	<action id="deleteIqpBatchMngRecord" type="normal" checkSession="true" >
		<flowInvoker>         
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.DeleteIqpBatchMngRecordOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	
	<!-- 分页查询记录列表 -->
		<action id="pageIqpBatchMngQuery" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpBatchMngListOp"/>
			<transition dest="queryListRes"/>
		</flowInvoker>
		<outputViews>
			<jsonView class="com.yucheng.cmis.view.JSONView" id="queryListRes">
				<output>
					<iColl id="IqpBatchMngList">
						<kColl>
						</kColl>
					</iColl>
					<kColl id="pageInfo">
						<field id="currentPage" />
						<field id="maxLine" />
						<field id="recordSize" />
					</kColl>
				</output>
			</jsonView>
		</outputViews>
	</action>
	
	<!-- 分页查询记录列表 -->
		<action id="pageImportIqpBatchMngQuery" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryImportIqpBatchListOp"/>
			<transition dest="queryListRes"/>
		</flowInvoker>
		<outputViews>
			<jsonView class="com.yucheng.cmis.view.JSONView" id="queryListRes">
				<output>
					<iColl id="IqpBatchMngList">
						<kColl>
						</kColl>
					</iColl>
					<kColl id="pageInfo">
						<field id="currentPage" />
						<field id="maxLine" />
						<field id="recordSize" />
					</kColl>
				</output>
			</jsonView>
		</outputViews>
	</action>
	
	<!-- 异步更新批次记录 -->
	<action id="updateIqpBatchMngOp" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.UpdateIqpBatchMngOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	<!-- 获取导入批次输入页面 -->
	<action id="importIqpBatchPage" type="normal" checkSession="true" >
	    <flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryImportIqpBatchListOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/importIqpBatchPage.jsp" />
		</outputViews>
	</action>
	<!-- 导入批次输入操作 -->
	<action id="importIqpBatchAction" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.ImportIqpBatchPageOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
					<field id="msg" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	<!-- 获取选择批次pop页面 -->
	<action id="queryIqpBatchMngListPop" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.QueryIqpBatchMngListPopOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<jspView id="retPage" url="biz01line/iqp/IqpBatchMng/queryIqpBatchMngListPop.jsp" />
		</outputViews>
	</action>
	
	<!-- 修改贴现日期，同步修改所有票据利息信息 -->
	<action id="updateIqpBillIncomeInt" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.UpdateIqpBillIncomeIntOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="flag" class="com.ecc.emp.data.DataField" />
					<field id="intAmt" class="com.ecc.emp.data.DataField" />
					<field id="repayAmt" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	
	<!-- 通过批次号获取批次信息 -->
	<action id="getBatchMsgByBatchNo" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.iqp.op.iqpbatchmng.GetBatchMsgByBatchNoOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="serno" class="com.ecc.emp.data.DataField" />
					<field id="biz_type" class="com.ecc.emp.data.DataField" />
					<field id="bill_type" class="com.ecc.emp.data.DataField" />
					<field id="bill_qnt" class="com.ecc.emp.data.DataField" />
					<field id="bill_total_amt" class="com.ecc.emp.data.DataField" />
					<field id="fore_disc_date" class="com.ecc.emp.data.DataField" />
					<field id="rate" class="com.ecc.emp.data.DataField" />
					<field id="int_amt" class="com.ecc.emp.data.DataField" />
					<field id="rpay_amt" class="com.ecc.emp.data.DataField" />
					<field id="rebuy_date" class="com.ecc.emp.data.DataField" />
					<field id="rebuy_int" class="com.ecc.emp.data.DataField" />
					<field id="opp_org_no" class="com.ecc.emp.data.DataField" />
					<field id="opp_org_name" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
	
	<!-- 检测票据批次是否为电票-->
	<action id="checkIqpBatchMngIsEbill" type="normal" checkSession="true" >
		<flowInvoker>
			<operation class="com.yucheng.cmis.biz01line.batch.op.iqpbatchmng.CheckIqpBatchMngIsEbillOp"/>
			<transition dest="retPage"/>
		</flowInvoker>
		<outputViews>
			<view id="retPage" class="com.yucheng.cmis.view.JSONView">
				<output class="com.ecc.emp.data.KeyedCollection">
					<field id="checked" class="com.ecc.emp.data.DataField" />
				</output>
			</view>
		</outputViews>
	</action>
</actionDefines>



