<?xml version="1.0" encoding="UTF-8" ?>
<servletContext>
	<classMap>
		<map id="EMPMBean" class="com.ecc.emp.jmx.support.EMPMBeanInfo"/>
		<map id="attr" class="com.ecc.emp.jmx.support.AttrInfo"/>
		<map id="op" class="com.ecc.emp.jmx.support.OperationInfo"/>
		<map id="mbeanExportor" class="com.ecc.emp.jmx.support.EMPMBeanExportor"/>
		<map id="notifies" class="com.ecc.emp.jmx.support.RegistryInfo"/>
		<map id="EMPJMXRMIClientManager" class="com.ecc.emp.jmx.rmiclient.EMPJMXRMIClientManager"/>
		<map id="JMXRMIClient" class="com.ecc.emp.jmx.rmiclient.JMXRMIClient"/>
		<map id="NotificationBeanDefine" class="com.ecc.emp.jmx.rmiclient.NotificationBeanDefine"/>
		<map id="TimerDefine" class="com.ecc.emp.jmx.rmiclient.TimerDefine"/>
		<map id="heartbeatMBeanDefine" class="com.ecc.emp.jmx.rmiclient.HeartbeatMBeanDefine"/>
		<map id="StringMonitor" class="com.ecc.emp.jmx.rmiclient.StringMonitorDefine"/>
		<map id="GaugeMonitor" class="com.ecc.emp.jmx.rmiclient.GaugeMonitorDefine"/>
		<map id="accessManager" class="com.ecc.emp.accesscontrol.EMPAccessManager"/>
		<map id="outputViews" class="java.util.HashMap"/>
	</classMap>
	<sessionManager class="com.ecc.emp.session.EMPSessionManager" sessionTraceType="URLREWRITE" sessionTimeOut="18000000"/>
	<localeResolver class="com.ecc.emp.web.servlet.SessionLocaleResolver"/>
	<initializer  class="com.yucheng.cmis.pub.base.CMISInitializer" dataSourceName="dataSource">
		<BusinessInitializer class="com.yucheng.cmis.pub.base.CMISBusinessInitializer"/>
	</initializer>
	<!-- 与权限相关的配置 -->
	<accessManager id="accessManager">
		<!-- 访问控制相关，访问控制的列表在WEB-INF/commons/permissionAccess.xml -->
		<!-- 如果不使用访问控制，则删除此行 -->
		<accessController id="PermissionAccessController" class="com.yucheng.cmis.accesscontroll.PermissionAccessController"/>
		
		<!-- 用于获取menuId，以控制页面上的按钮权限 -->
		<accessController id="SaveMenuIdAccessController" class="com.yucheng.cmis.accesscontroll.SaveMenuIdAccessController"/>
	</accessManager>
	<ExceptionHandler class="com.ecc.emp.web.servlet.mvc.ExceptionHandler">
		<ExceptionView id="AsynException" url="jsps/asynError.jsp" exceptionName="AsynException"/>
		<ExceptionView id="ComponentException" url="jsps/error.jsp" exceptionName="ComponentException"/>
		<ExceptionView id="AgentException" url="jsps/error.jsp" exceptionName="AgentException"/>
		<ExceptionView id="CMISException" url="jsps/error.jsp" exceptionName="CMISException"/>
		<ExceptionView id="sessionException" url="jsps/sessionException.jsp" exceptionName="SessionException"/>
		<ExceptionView id="restrictException" url="jsps/restrictException.jsp" exceptionName="EMPRestrictException"/>
		<ExceptionView id="exception" url="/error.jsp" exceptionName="exception"/>
	</ExceptionHandler>
	<mbeanExportor id="mbeanExportor">
		<EMPMBean id="CMISMvcServlet" name="CMISMvcServlet" objectId="CMISMvcServlet" description="EMP Web处理容器" type="servlet">
			<attr id="rootPath" name="rootPath" displayName="web根路径" description="web-root-path" access="R"/>
			<attr id="factoryName" name="factoryName" displayName="业务逻辑容器名称" description="业务逻辑容器名称" access="R"/>
			<attr id="contentDivId" name="contentDivId" displayName="web工作分区ID" description="web工作分区ID" access="R"/>
			<attr id="alarmResponseTime" name="alarmResponseTime" displayName="超时报警时间" description="超时报警时间设置" access="RW"/>
			<op id="reloadMVCContext" name="reloadMVCContext" displayName="刷新web应用" description="刷新web应用"/>
		</EMPMBean>
		
		<EMPMBean id="BrowserReqSessionMgr" name="BrowserReqSessionMgr" objectId="BrowserReqSessionMgr" description="The EMP Session manager" type="session">
			<attr id="sessionCount" name="sessionCount" displayName="当前会话数目" description="SessionCount" access="R"/>
		</EMPMBean>
	</mbeanExportor>
	<action id="taskInfo" userIdField="currentUserId" class="com.yucheng.cmis.taskInfo.CMISPermissionJSONController"/>
	
	<multiPartResolver  class="com.yucheng.cmis.biz01line.lmt.utils.CMISMultipartResolver"/>
</servletContext>